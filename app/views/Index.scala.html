@(history: List[String])

@import controller.SearchController

@Main(title = "Catalog search") {
<div class="container">
    <h1>Biblioteka Raczynskich</h1>
    <p>
    <input id="inputIsbn" type="text" name="isbn" class="form-control">
    <button id="searchIsbn" type="submit" class="btn btn-default">Search</button>
    </p>
    <script>
    $('#searchIsbn').click(function(){
        var req = new XMLHttpRequest();
        req.open('GET', '/search/?isbn=' + document.getElementById('inputIsbn').value, false);
        req.send()
        document.getElementById('results').innerHTML = req.responseText;
    });
    </script>
    <p id="results"></p>
    @if(!history.isEmpty) {
    <p>
        <small><a href="#" data-toggle="collapse" data-target="#links" class="btn btn-default btn-sm"> <span class="glyphicon glyphicon-plus"></span> </a>
            Previous searches:
        <div id="links" class="collapse"><ul>
        @for(h <- history) {
            <li><a href=@{s"/search/?isbn=$h"}>@h</a></li>
        }
        </ul></div></small>
    </p>
    }
</div>
}
